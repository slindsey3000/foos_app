<header class="site-header">
  <div class="header-main">
    <div class="container" style="align-items: center; display: flex;">
      <a href="/" class="logo-link" style="display: flex; align-items: center; gap: 16px;">
        <%= image_tag "USA_foosball_logo.png", alt: "USA Foosball Logo", class: "site-logo" %>
        <div>
          <h1 style="margin: 0; font-size: 1.5rem; color: #2563eb;">USA Foosball</h1>
          <span style="font-size: 0.9rem; color: #6b7280;">The United States Foosball Association</span>
        </div>
      </a>
      <div class="header-auth">
        <% if current_user %>
          <% if current_user.admin? %>
            <span class="welcome-message">Welcome Admin <%= current_user.firstname %> <%= current_user.lastname %>!</span>
            <%= link_to "Dashboard", admin_dashboard_path, class: "btn btn-outline" %>
          <% else %>
            <span class="welcome-message">Welcome <%= current_user.firstname %> <%= current_user.lastname %>!</span>
          <% end %>
          <%= link_to "Sign Out", logout_path, data: { method: :delete, confirm: "Are you sure you want to sign out?" }, class: "btn btn-secondary" %>
        <% else %>
          <a href="/signup" class="btn btn-primary">Become a Member</a>
          <a href="/signin" class="btn btn-outline">Sign In</a>
        <% end %>
      </div>
      
      <!-- Mobile Hamburger Menu in Header -->
      <div class="mobile-nav">
        <button class="hamburger-btn" id="hamburger-btn">
          <span class="hamburger-line"></span>
          <span class="hamburger-line"></span>
          <span class="hamburger-line"></span>
        </button>
        <div class="mobile-menu" id="mobile-menu">
          <div class="mobile-menu-header">
            <button class="mobile-close-btn" id="mobile-close-btn">&times;</button>
          </div>
          <ul>
            <li><a href="/">Home</a></li>
            <li><a href="/news">News</a></li>
            <li><a href="/board">Board of Directors</a></li>
            <li><a href="/documents">Documents</a></li>
            <li><a href="/clubs">Where to Play</a></li>
            <% unless current_user %>
              <li class="mobile-auth-divider"></li>
              <li><a href="/signin" class="mobile-auth-link">Sign In</a></li>
            <% end %>
          </ul>
        </div>
      </div>
    </div>
  </div>

  <nav class="main-navigation">
    <div class="container">
      <!-- Desktop Navigation -->
      <ul class="desktop-nav">
        <li><a href="/">Home</a></li>
        <li><a href="/news">News</a></li>
        <li><a href="/board">Board of Directors</a></li>
        <li><a href="/documents">Documents</a></li>
        <li><a href="/clubs">Where to Play</a></li>
      </ul>
    </div>
  </nav>
  
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const hamburgerBtn = document.getElementById('hamburger-btn');
      const mobileMenu = document.getElementById('mobile-menu');
      const closeBtn = document.getElementById('mobile-close-btn');
      
      function closeMenu() {
        hamburgerBtn.classList.remove('active');
        mobileMenu.classList.remove('active');
      }
      
      function openMenu() {
        hamburgerBtn.classList.add('active');
        mobileMenu.classList.add('active');
      }
      
      if (hamburgerBtn && mobileMenu) {
        // Hamburger click handler
        hamburgerBtn.addEventListener('click', function(e) {
          e.preventDefault();
          e.stopPropagation();
          if (mobileMenu.classList.contains('active')) {
            closeMenu();
          } else {
            openMenu();
          }
        });
        
        // Close button handler
        if (closeBtn) {
          closeBtn.addEventListener('click', function(e) {
            e.preventDefault();
            e.stopPropagation();
            closeMenu();
          });
        }
        
        // Close menu when clicking a navigation link
        const menuLinks = mobileMenu.querySelectorAll('a');
        menuLinks.forEach(function(link) {
          link.addEventListener('click', function() {
            closeMenu();
          });
        });
        
        // Close menu with escape key
        document.addEventListener('keydown', function(e) {
          if (e.key === 'Escape' && mobileMenu.classList.contains('active')) {
            closeMenu();
          }
        });
      }
    });
  </script>
</header>
