<div class="signin-page">
  <div class="container">
    <div class="signin-container">
      <div class="signin-header">
        <h1>Sign In to USA Foosball</h1>
        <p>Access your account to manage tournaments, rankings, and more</p>
      </div>

      <% if flash[:alert] %>
        <div class="alert alert-error" style="border: 2px solid red; background-color: #fee; color: #900; padding: 15px; margin: 15px 0; border-radius: 5px; font-weight: bold;">
          ⚠️ <%= flash[:alert] %>
        </div>
      <% end %>

      <% if flash[:notice] %>
        <div class="alert alert-success" style="border: 2px solid green; background-color: #efe; color: #090; padding: 15px; margin: 15px 0; border-radius: 5px; font-weight: bold;">
          ✅ <%= flash[:notice] %>
        </div>
      <% end %>

      <%= form_with url: signin_path, method: :post, local: true, class: "signin-form", data: { turbo: false } do |f| %>
        <div class="form-group">
          <%= f.label :username, "Username or Email" %>
          <%= f.text_field :username, value: params[:username], required: true, placeholder: "Enter your username or email" %>
        </div>

        <div class="form-group">
          <%= f.label :password, "Password" %>
          <%= f.password_field :password, value: (flash[:alert] ? "" : ""), required: true, placeholder: "Enter your password" %>
        </div>

        <div class="form-actions">
          <%= f.submit "Sign In", class: "btn btn-primary btn-full" %>
        </div>
      <% end %>

      <div class="signin-footer">
        <p>Don't have an account? <a href="/signup" class="signup-link">Sign up here</a></p>
      </div>
    </div>
  </div>
</div>

<script>
  // Add client-side form validation
  document.addEventListener('DOMContentLoaded', function() {
    const form = document.querySelector('.signin-form');
    if (form) {
      form.addEventListener('submit', function(e) {
        const username = document.querySelector('input[name="username"]').value.trim();
        const password = document.querySelector('input[name="password"]').value.trim();
        
        if (!username) {
          alert('Please enter a username or email address.');
          e.preventDefault();
          return;
        }
        
        if (!password) {
          alert('Please enter your password.');
          e.preventDefault();
          return;
        }
      });
    }
  });
</script>
